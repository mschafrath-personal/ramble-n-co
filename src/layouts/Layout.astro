---
type NavLink = { label: string; href: string };

type LayoutProps = {
  brand?: string;
  title?: string;
  description?: string;
  links?: NavLink[];
};

const {
  brand = "Ramble & Co.",
  title = brand,
  description = "Ramble & Co. — a small studio offering strategy, design, and operational clarity for modern teams.",
  links = [
    { label: "About", href: "/about" },
    { label: "Services", href: "/services" },
    { label: "Contact", href: "/contact" },
  ],
} = Astro.props as LayoutProps;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" href="/favicon.ico" />
  </head>

  <body>
    <main class="wrap">
      <header class="nav">
        <a class="logo" href="/">{brand}</a>

        <nav class="links" aria-label="Primary">
          {links.map((l: NavLink) => (
            <a href={l.href}>{l.label}</a>
          ))}
        </nav>
      </header>

      <slot />

      <footer class="footer">
        <p>© {new Date().getFullYear()} {brand}</p>
      </footer>
    </main>
  </body>
</html>

<style>
  :global(:root) {
    /* Palette */
    --bg: #E8D3CD;
    --ink: #007D6A;
    --ink-2: #007d6a;
    --accent: #A0370A;

    /* Helpers */
    --line: rgba(205, 117, 9, 1);
    --muted-ink: rgba(2, 83, 71, 0.82);
    --muted-ink-2: rgba(2, 83, 71, 0.72);

    /* Spacing + radius */
    --wrap-max: 980px;
    --wrap-x: 20px;
    --wrap-top: 28px;
    --wrap-bottom: 64px;
    --btn-radius: 4px;
  }

  :global(body) {
    margin: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, Helvetica, Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .wrap {
    max-width: var(--wrap-max);
    margin: 0 auto;
    padding: var(--wrap-top) var(--wrap-x) var(--wrap-bottom);
  }

  .nav {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    gap: 16px;
    padding: 10px 0 26px;
  }

  .logo {
    text-decoration: none;
    color: var(--ink);
    font-weight: 650;
    letter-spacing: 0.2px;
  }

  .links {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }

  .links a {
    color: var(--accent);
    text-decoration: none;
    font-size: 14px;
    padding-bottom: 2px;
    border-bottom: 1px solid transparent;
  }

  .links a:hover {
    border-bottom-color: rgba(205, 117, 9, 0.55);
  }

  /* Shared “section” styling you can reuse across pages */
  :global(.section) {
    padding: 46px 0 26px;
    border-top: 1px solid var(--line);
  }

  :global(h1) {
    margin: 0 0 12px;
    font-size: clamp(34px, 5vw, 56px);
    line-height: 1.02;
    letter-spacing: -0.03em;
    color: var(--ink);
  }

  :global(h2) {
    margin: 0 0 10px;
    font-size: 15px;
    font-weight: 700;
    letter-spacing: -0.01em;
    color: var(--ink-2);
  }

  :global(p) {
    margin: 0;
    color: var(--muted-ink);
    line-height: 1.75;
    font-size: 16px;
  }

  :global(p + p) {
    margin-top: 14px;
  }

  /* Buttons (reusable on any page) */
  :global(.cta) {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 22px;
  }

  :global(.button) {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 11px 14px;
    border-radius: var(--btn-radius);
    text-decoration: none;
    font-weight: 650;
    border: 1px solid rgba(205, 117, 9, 0.7);
  }

  :global(.button.primary) {
    background: var(--accent);
    color: var(--bg);
  }

  :global(.button.ghost) {
    background: transparent;
    color: var(--accent);
  }

  :global(.button.ghost:hover) {
    background: rgba(205, 117, 9, 0.12);
  }

  /* Footer */
  .footer {
    margin-top: 52px;
    padding-top: 18px;
    border-top: 1px solid var(--line);
  }

  /* IMPORTANT: override global p styles inside footer */
  .footer p {
    margin: 0;
    color: var(--accent); /* #CD7509 */
    font-size: 11px;       /* a couple points smaller */
    line-height: 1.4;
  }
</style>
